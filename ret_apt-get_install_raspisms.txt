sudo aptitude install raspisms
The following NEW packages will be installed:
  default-mysql-server{a} galera-3{a} gammu{a} gammu-smsd{a} libaio1{a} 
  libcgi-fast-perl{a} libcgi-pm-perl{a} libdbd-mysql-perl{a} libdbi-perl{a} 
  libdbi1{a} libencode-locale-perl{a} libfcgi-perl{a} libgammu-i18n{a} 
  libgammu8{a} libgsmsd8{a} libhtml-parser-perl{a} libhtml-tagset-perl{a} 
  libhtml-template-perl{a} libhttp-date-perl{a} libhttp-message-perl{a} 
  libio-html-perl{a} libjemalloc1{a} liblwp-mediatypes-perl{a} 
  libmariadbclient18{a} libodbc1{a} libpq5{a} libreadline5{a} 
  libterm-readkey-perl{a} libtimedate-perl{a} liburi-perl{a} 
  mariadb-client-10.1{a} mariadb-client-core-10.1{a} mariadb-common{a} 
  mariadb-server-10.1{a} mariadb-server-core-10.1{a} mysql-server{a} 
  socat{a} 
The following partially installed packages will be configured:
  raspisms 
0 packages upgraded, 37 newly installed, 0 to remove and 0 not upgraded.
Need to get 24.1 MB of archives. After unpacking 175 MB will be used.
Do you want to continue? [Y/n/?] Y
Get: 1 http://raspbian.raspberrypi.org/raspbian stretch/main armhf mysql-server armhf 5.5.9999+default [1,706 B]
Get: 2 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libgammu8 armhf 1.38.1-1 [431 kB]
Get: 3 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf gammu armhf 1.38.1-1 [273 kB]
Get: 4 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libdbi1 armhf 0.9.0-4+deb9u1 [27.1 kB]
Get: 5 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libmariadbclient18 armhf 10.1.23-9+deb9u1 [710 kB]
Get: 6 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libodbc1 armhf 2.3.4-1 [180 kB]
Get: 7 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libpq5 armhf 9.6.7-0+deb9u1 [117 kB]
Get: 8 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libgsmsd8 armhf 1.38.1-1 [120 kB]
Get: 9 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf gammu-smsd armhf 1.38.1-1 [148 kB]
Get: 10 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf mariadb-common all 10.1.23-9+deb9u1 [26.7 kB]
Get: 11 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf galera-3 armhf 25.3.19-2+rpi1 [874 kB]
Get: 12 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libdbi-perl armhf 1.636-1+b1 [759 kB]
Get: 13 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libaio1 armhf 0.3.110-3 [9,366 B]
Get: 14 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libreadline5 armhf 5.2+dfsg-3 [103 kB]
Get: 15 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf mariadb-client-core-10.1 armhf 10.1.23-9+deb9u1 [4,279 kB]
Get: 16 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libjemalloc1 armhf 3.6.0-9.1 [81.1 kB]
Get: 17 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf mariadb-client-10.1 armhf 10.1.23-9+deb9u1 [5,239 kB]
Get: 18 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf mariadb-server-core-10.1 armhf 10.1.23-9+deb9u1 [4,566 kB]
Get: 19 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf socat armhf 1.7.3.1-2+deb9u1 [320 kB]
Get: 20 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf mariadb-server-10.1 armhf 10.1.23-9+deb9u1 [4,670 kB]
Get: 21 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf default-mysql-server all 1.0.2 [3,048 B]
Get: 22 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libhtml-tagset-perl all 3.20-3 [12.7 kB]
Get: 23 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf liburi-perl all 1.71-1 [88.6 kB]
Get: 24 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libhtml-parser-perl armhf 3.72-3 [101 kB]
Get: 25 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libcgi-pm-perl all 4.35-1 [222 kB]
Get: 26 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libfcgi-perl armhf 0.78-2 [34.6 kB]
Get: 27 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libcgi-fast-perl all 1:2.12-1 [11.2 kB]
Get: 28 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libdbd-mysql-perl armhf 4.041-2 [108 kB]
Get: 29 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libencode-locale-perl all 1.05-1 [13.7 kB]
Get: 30 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libgammu-i18n all 1.38.1-1 [284 kB]
Get: 31 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libhtml-template-perl all 2.95-2 [67.1 kB]
Get: 32 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libtimedate-perl all 2.3000-2 [42.2 kB]
Get: 33 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libhttp-date-perl all 6.02-1 [10.7 kB]
Get: 34 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libio-html-perl all 1.001-1 [17.6 kB]
Get: 35 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf liblwp-mediatypes-perl all 6.02-1 [22.1 kB]
Get: 36 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libhttp-message-perl all 6.11-1 [75.9 kB]
Get: 37 http://mirrors.ircam.fr/pub/raspbian/raspbian stretch/main armhf libterm-readkey-perl armhf 2.37-1 [26.3 kB]
Fetched 24.1 MB in 2min 33s (157 kB/s)                                          
Extracting templates from packages: 100%
Preconfiguring packages ...
Selecting previously unselected package libgammu8.
(Reading database ... 126326 files and directories currently installed.)
Preparing to unpack .../00-libgammu8_1.38.1-1_armhf.deb ...
Unpacking libgammu8 (1.38.1-1) ...
Selecting previously unselected package gammu.
Preparing to unpack .../01-gammu_1.38.1-1_armhf.deb ...
Unpacking gammu (1.38.1-1) ...
Selecting previously unselected package libdbi1:armhf.
Preparing to unpack .../02-libdbi1_0.9.0-4+deb9u1_armhf.deb ...
Unpacking libdbi1:armhf (0.9.0-4+deb9u1) ...
Selecting previously unselected package libmariadbclient18:armhf.
Preparing to unpack .../03-libmariadbclient18_10.1.23-9+deb9u1_armhf.deb ...
Unpacking libmariadbclient18:armhf (10.1.23-9+deb9u1) ...
Selecting previously unselected package libodbc1:armhf.
Preparing to unpack .../04-libodbc1_2.3.4-1_armhf.deb ...
Unpacking libodbc1:armhf (2.3.4-1) ...
Selecting previously unselected package libpq5:armhf.
Preparing to unpack .../05-libpq5_9.6.7-0+deb9u1_armhf.deb ...
Unpacking libpq5:armhf (9.6.7-0+deb9u1) ...
Selecting previously unselected package libgsmsd8.
Preparing to unpack .../06-libgsmsd8_1.38.1-1_armhf.deb ...
Unpacking libgsmsd8 (1.38.1-1) ...
Selecting previously unselected package gammu-smsd.
Preparing to unpack .../07-gammu-smsd_1.38.1-1_armhf.deb ...
Unpacking gammu-smsd (1.38.1-1) ...
Selecting previously unselected package mariadb-common.
Preparing to unpack .../08-mariadb-common_10.1.23-9+deb9u1_all.deb ...
Unpacking mariadb-common (10.1.23-9+deb9u1) ...
Selecting previously unselected package galera-3.
Preparing to unpack .../09-galera-3_25.3.19-2+rpi1_armhf.deb ...
Unpacking galera-3 (25.3.19-2+rpi1) ...
Selecting previously unselected package libdbi-perl.
Preparing to unpack .../10-libdbi-perl_1.636-1+b1_armhf.deb ...
Unpacking libdbi-perl (1.636-1+b1) ...
Selecting previously unselected package libaio1:armhf.
Preparing to unpack .../11-libaio1_0.3.110-3_armhf.deb ...
Unpacking libaio1:armhf (0.3.110-3) ...
Selecting previously unselected package libreadline5:armhf.
Preparing to unpack .../12-libreadline5_5.2+dfsg-3_armhf.deb ...
Unpacking libreadline5:armhf (5.2+dfsg-3) ...
Selecting previously unselected package mariadb-client-core-10.1.
Preparing to unpack .../13-mariadb-client-core-10.1_10.1.23-9+deb9u1_armhf.deb ...
Unpacking mariadb-client-core-10.1 (10.1.23-9+deb9u1) ...
Selecting previously unselected package libjemalloc1.
Preparing to unpack .../14-libjemalloc1_3.6.0-9.1_armhf.deb ...
Unpacking libjemalloc1 (3.6.0-9.1) ...
Selecting previously unselected package mariadb-client-10.1.
Preparing to unpack .../15-mariadb-client-10.1_10.1.23-9+deb9u1_armhf.deb ...
Unpacking mariadb-client-10.1 (10.1.23-9+deb9u1) ...
Selecting previously unselected package mariadb-server-core-10.1.
Preparing to unpack .../16-mariadb-server-core-10.1_10.1.23-9+deb9u1_armhf.deb ...
Unpacking mariadb-server-core-10.1 (10.1.23-9+deb9u1) ...
Selecting previously unselected package socat.
Preparing to unpack .../17-socat_1.7.3.1-2+deb9u1_armhf.deb ...
Unpacking socat (1.7.3.1-2+deb9u1) ...
Setting up mariadb-common (10.1.23-9+deb9u1) ...
update-alternatives: using /etc/mysql/mariadb.cnf to provide /etc/mysql/my.cnf (my.cnf) in auto mode
Selecting previously unselected package mariadb-server-10.1.
(Reading database ... 126855 files and directories currently installed.)
Preparing to unpack .../00-mariadb-server-10.1_10.1.23-9+deb9u1_armhf.deb ...
Unpacking mariadb-server-10.1 (10.1.23-9+deb9u1) ...
Selecting previously unselected package default-mysql-server.
Preparing to unpack .../01-default-mysql-server_1.0.2_all.deb ...
Unpacking default-mysql-server (1.0.2) ...
Selecting previously unselected package mysql-server.
Preparing to unpack .../02-mysql-server_5.5.9999+default_armhf.deb ...
Unpacking mysql-server (5.5.9999+default) ...
Selecting previously unselected package libhtml-tagset-perl.
Preparing to unpack .../03-libhtml-tagset-perl_3.20-3_all.deb ...
Unpacking libhtml-tagset-perl (3.20-3) ...
Selecting previously unselected package liburi-perl.
Preparing to unpack .../04-liburi-perl_1.71-1_all.deb ...
Unpacking liburi-perl (1.71-1) ...
Selecting previously unselected package libhtml-parser-perl.
Preparing to unpack .../05-libhtml-parser-perl_3.72-3_armhf.deb ...
Unpacking libhtml-parser-perl (3.72-3) ...
Selecting previously unselected package libcgi-pm-perl.
Preparing to unpack .../06-libcgi-pm-perl_4.35-1_all.deb ...
Unpacking libcgi-pm-perl (4.35-1) ...
Selecting previously unselected package libfcgi-perl.
Preparing to unpack .../07-libfcgi-perl_0.78-2_armhf.deb ...
Unpacking libfcgi-perl (0.78-2) ...
Selecting previously unselected package libcgi-fast-perl.
Preparing to unpack .../08-libcgi-fast-perl_1%3a2.12-1_all.deb ...
Unpacking libcgi-fast-perl (1:2.12-1) ...
Selecting previously unselected package libdbd-mysql-perl.
Preparing to unpack .../09-libdbd-mysql-perl_4.041-2_armhf.deb ...
Unpacking libdbd-mysql-perl (4.041-2) ...
Selecting previously unselected package libencode-locale-perl.
Preparing to unpack .../10-libencode-locale-perl_1.05-1_all.deb ...
Unpacking libencode-locale-perl (1.05-1) ...
Selecting previously unselected package libgammu-i18n.
Preparing to unpack .../11-libgammu-i18n_1.38.1-1_all.deb ...
Unpacking libgammu-i18n (1.38.1-1) ...
Selecting previously unselected package libhtml-template-perl.
Preparing to unpack .../12-libhtml-template-perl_2.95-2_all.deb ...
Unpacking libhtml-template-perl (2.95-2) ...
Selecting previously unselected package libtimedate-perl.
Preparing to unpack .../13-libtimedate-perl_2.3000-2_all.deb ...
Unpacking libtimedate-perl (2.3000-2) ...
Selecting previously unselected package libhttp-date-perl.
Preparing to unpack .../14-libhttp-date-perl_6.02-1_all.deb ...
Unpacking libhttp-date-perl (6.02-1) ...
Selecting previously unselected package libio-html-perl.
Preparing to unpack .../15-libio-html-perl_1.001-1_all.deb ...
Unpacking libio-html-perl (1.001-1) ...
Selecting previously unselected package liblwp-mediatypes-perl.
Preparing to unpack .../16-liblwp-mediatypes-perl_6.02-1_all.deb ...
Unpacking liblwp-mediatypes-perl (6.02-1) ...
Selecting previously unselected package libhttp-message-perl.
Preparing to unpack .../17-libhttp-message-perl_6.11-1_all.deb ...
Unpacking libhttp-message-perl (6.11-1) ...
Selecting previously unselected package libterm-readkey-perl.
Preparing to unpack .../18-libterm-readkey-perl_2.37-1_armhf.deb ...
Unpacking libterm-readkey-perl (2.37-1) ...
Setting up libhtml-tagset-perl (3.20-3) ...
Setting up libdbi1:armhf (0.9.0-4+deb9u1) ...
Setting up libodbc1:armhf (2.3.4-1) ...
Setting up libencode-locale-perl (1.05-1) ...
Setting up libjemalloc1 (3.6.0-9.1) ...
Setting up libtimedate-perl (2.3000-2) ...
Setting up libgammu-i18n (1.38.1-1) ...
Setting up socat (1.7.3.1-2+deb9u1) ...
Setting up libio-html-perl (1.001-1) ...
Setting up libmariadbclient18:armhf (10.1.23-9+deb9u1) ...
Setting up libterm-readkey-perl (2.37-1) ...
Setting up libpq5:armhf (9.6.7-0+deb9u1) ...
Setting up liblwp-mediatypes-perl (6.02-1) ...
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Setting up libaio1:armhf (0.3.110-3) ...
Setting up galera-3 (25.3.19-2+rpi1) ...
Setting up liburi-perl (1.71-1) ...
Processing triggers for systemd (232-25+deb9u2) ...
Setting up libhtml-parser-perl (3.72-3) ...
Setting up libcgi-pm-perl (4.35-1) ...
Processing triggers for man-db (2.7.6.1-2) ...
Setting up libreadline5:armhf (5.2+dfsg-3) ...
Setting up libfcgi-perl (0.78-2) ...
Setting up libgammu8 (1.38.1-1) ...
Setting up libdbi-perl (1.636-1+b1) ...
Setting up libhttp-date-perl (6.02-1) ...
Setting up mariadb-server-core-10.1 (10.1.23-9+deb9u1) ...
Setting up libhtml-template-perl (2.95-2) ...
Setting up gammu (1.38.1-1) ...
Setting up mariadb-client-core-10.1 (10.1.23-9+deb9u1) ...
Setting up libcgi-fast-perl (1:2.12-1) ...
Setting up libgsmsd8 (1.38.1-1) ...
Setting up libhttp-message-perl (6.11-1) ...
Setting up libdbd-mysql-perl (4.041-2) ...
Setting up mariadb-client-10.1 (10.1.23-9+deb9u1) ...
Setting up gammu-smsd (1.38.1-1) ...
Adding user gammu to group dialout
Created symlink /etc/systemd/system/multi-user.target.wants/gammu-smsd.service → /lib/systemd/system/gammu-smsd.service.
Setting up mariadb-server-10.1 (10.1.23-9+deb9u1) ...
Created symlink /etc/systemd/system/mysql.service → /lib/systemd/system/mariadb.service.
Created symlink /etc/systemd/system/mysqld.service → /lib/systemd/system/mariadb.service.
Created symlink /etc/systemd/system/multi-user.target.wants/mariadb.service → /lib/systemd/system/mariadb.service.
Setting up default-mysql-server (1.0.2) ...
Setting up mysql-server (5.5.9999+default) ...
Setting up raspisms (2.0) ...
Il est possible de configurer automatiquement gammu. Pour cela, le module GSM gérant la carte SIM doit-être connecté à la Raspberry Pi. Voulez-vous le faire ? [y/n]
y
Gammu va etre configure automatiquement.
Creation des fichier de configuration /etc/gammurc et /etc/gammu-smsdrc
opening socket: No such device
opening socket: No such device
Rentrez le code PIN de votre carte SIM. (Laissez vide si elle n'a pas de code PIN)

Aucun code PIN ne sera utilisé.
Le fichier de configuration /etc/gammu-smsdrcrc a été généré correctement.
La base de données de RaspiSMS va être déployée.
Password root MySQL :
Enter password: 
ERROR 1071 (42000) at line 123: Specified key was too long; max key length is 767 bytes
La base de données a été correctement déployée.
La connexion a la base de données pour RaspiSMS va être configurée avec le compte root
RaspiSMS a été installé avec succès dans le répertoire /var/www/html/RaspiSMS.\n\n
Attribution du dossier /var/www/html/RaspiSMS à l'utilisateur www-data
Le dossier a bien été donné à www-data, avec les droits 755
Attribution du dossier /var/www/html/RaspiSMS/receiveds à l'utilisateur gammu
Le dossier a bien été donné à gammu, avec les droits 755
Ajout droit d'execution sur /var/www/html/RaspiSMS/console.php
Droit d'execution ajoute
Ajout droit d'execution sur /var/www/html/RaspiSMS/parseSMS.sh
Droit d'execution ajoute
Le compte administrateur pour RaspiSMS va être créé. Choisissez une adresse e-mail et un mot de passe pour ce compte
Adresse e-mail : 
leocabanes@wanadoo.fr
Mot de passe : 
Enter password: 
ERROR 1146 (42S02) at line 1: Table 'raspisms.users' doesn't exist
Activation du module de réecriture d'URL d'Apache
Enabling module rewrite.
To activate the new configuration, you need to run:
  systemctl restart apache2
Ajout du fichier de configuration Apache de RaspiSMS
ERROR: Site raspisms does not exist!
rm: cannot remove '/etc/apache2/sites-available/raspisms.conf': No such file or directory
Activation du fichier de configuration Apache de RaspiSMS
Enabling site raspisms.
To activate the new configuration, you need to run:
  systemctl reload apache2
Redémarrage d'Apache
Redémarrage de Gammu
Ajout des tâches dans la crontab
no crontab for root
Installation terminée avec succès.
Processing triggers for libc-bin (2.24-11+deb9u3) ...
Processing triggers for systemd (232-25+deb9u2) ...
                                         
Current status: 0 (-1) broken.
